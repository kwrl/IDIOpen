{% extends 'base.html' %}

{% block content %}

{% load staticfiles %} 
<!-- Tablesorter css -->
<link href="{% static 'openshift/css/tablesorter/tablestyle.css' %}" rel="stylesheet">
<script type="text/javascript" src="{% static 'openshift/js/tablesorter/jquery.tablesorter.js' %}"></script> 
<script type="text/javascript" src="{% static 'openshift/js/tooltip.js' %}"></script> 
<script>
$(document).ready(function() 
    { 
        $("#tableProblems").tablesorter( {sortList: [[0,0]]} ); 
        $(".clickableRow").click(function() {
        	window.document.location = $(this).attr("href");
      	});
    } 
); 
</script>

<h2>List of Problems</h2>
<hr>
<small>Click on a table row to go to the selected problem.</small>
<br>
<small><i>Hover over each title in the table to get a further explanation.</i></small>
<table id="tableProblems" class="table table-bordered table-hover table-condensed tablesorter">
	<thead>
            <tr>
            <th data-toggle="tooltip" data-placement="top" title="The problems given for this competition">Problem</th>
            <th data-toggle="tooltip" data-placement="top" title="Your latest submission">Last Submission</th>
            <th data-toggle="tooltip" data-placement="top" title="The date of your last uploaded file">Date Uploaded</th>
            <th data-toggle="tooltip" data-placement="top" title="e.g. timeout, wrong answer">Feedback</th>
            <th data-toggle="tooltip" data-placement="top" title="The status of the problem">Solved</th>
            </tr>
    </thead>
    <tbody>
			{% for probsub in prob_sub %}
            <tr class='clickableRow' href='{{probsub.problem.id}}'>
            <td>{{probsub.problem.title}}</td>
            <td>{{probsub.submission.submission}}</td>
            <td>{{probsub.submission.date_uploaded}}</td>
            <td>{{probsub.submission.text_feedback}}</td>
            {%if probsub.submission.validated%}
            	<td class ="success">{{probsub.submission.validated}}</td>
            {%else%}
            	<td class="danger">{{probsub.submission.validated}}</td>
            {%endif%}
            </tr>
			{% endfor %}
    </tbody>
</table>
{% endblock content %}